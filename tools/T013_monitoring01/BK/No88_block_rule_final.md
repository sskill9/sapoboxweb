# No.88：ブロック単位生成・完全境界・構造監査・人可読命名 統合ルール（最終版）

## 0. 位置づけ（最上位・唯一適用）
1. 本ルール No.88 は最新版かつ最上位ルールとする。
2. 過去のすべてのルール（No.85 / No.87 等）は、本ルールにより上書き・吸収・無効化される。
3. 本ルールに明記されていない旧ルール条項は一切適用されない。

## 1. 最上位原則：ブロック単位生成の必須化（絶対）
1. AI はブロック単位でのみコードを生成できる。
2. ブロック化されていないコードは生成物として不正とみなす。
3. 新規生成・修正・追加・差分・全文出力のすべてにおいて本原則を例外なく適用する。
4. ブロックとして定義できないコードは生成してはならない。

## 2. ブロック定義（全ファイル共通）
### 2-1. ブロック境界（言語別コメント形式）
- JavaScript / PHP / CSS
```js
// ===== [UI] ナビゲーション - TOPバー =====
（コード本文）
// ===== [UI] ナビゲーション - TOPバー ここまで =====
```
- HTML
```html
<!-- ===== [UI] ナビゲーション - TOPバー ===== -->
（コード本文）
<!-- ===== [UI] ナビゲーション - TOPバー ここまで ===== -->
```

## 3. ブロック命名規則（人可読・強すぎない）
### 3-1. 基本フォーマット
[領域] 役割 - 対象（任意） #ID（任意）

### 3-2. ルール
- 角括弧 [] を使用する
- 日本語使用可
- 開始と終端のブロック名は完全一致
- ID は任意

## 4. ブロック構造ルール
1. ブロックはファイル内の連続した範囲とする。
2. 入れ子は最大2段まで許可。
3. 親子ブロックは別名とする。
4. 1ブロック1責務。

## 5. コード生成時の強制要件
1. 必ずブロックとして生成する。
2. 単一行でも最小ブロックを付与する。
3. ブロック名を確定できない場合は生成中止。

## 6. コード修正時の出力粒度
### 6-1. 全文指示がない場合
- 対象ブロックを開始から終端まで完全出力。
- 抜粋・要約・再構成は禁止。

### 6-2. 全文出力の場合
- 明示指示がある場合のみ許可。
- ブロック構造は保持する。

## 7. 省略・途中切れ禁止
- 開始〜終端が揃っていること。
- 省略記号・簡略表現は禁止。
- 分割はブロック境界を跨がない。

## 8. 構造監査ログ（必須）
```
【構造監査ログ】
・対象ブロック名：○○
・開始コメント：確認済
・終端コメント：確認済
・ブロック名完全一致：確認済
・ブロック単位完結：確認済
・途中切断・省略：なし
```

## 9. ブロック不変宣言（編集時）
```
【ブロック不変宣言】
・本出力は対象ブロック以外に一切触れていない
・ブロック名および境界コメントは変更していない
```

## 10. ブロック外参照禁止
- 未出力ブロックを前提にしない。
- 推測・補完は禁止。
- 必要な場合は別ブロックとして出力。

## 11. 出力ブロック数制限
- 1回の出力は最大3ブロックまで。
- 超過時は継続確認。

## 12. 禁足事項
- 境界欠落
- 途中終了
- 無断全文出力
- 監査ログ欠落
- 不変宣言欠落
- ブロック外参照
- 簡略・再構成

## 13. 運用宣言
- すべてのコードはブロック単位。
- 境界なしコードは不正。
- 構造監査と不変宣言で検知する。
